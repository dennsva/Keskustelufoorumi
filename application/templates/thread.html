{% extends "layout.html" %}

{% block head %}
    
{% endblock %}
{% block body %}
<h1>Messages index</h1>

<table>
  <tr>
    <th>Message</th>
    <th>Time</th>
    <th>Edit</th>
  </tr>
  {% for message in messages %}
  <tr>
    <td>{{ message.text }}</td>
    <td>{{ message.date_created }}</td>
    <td>
      <form method="POST" action="{{ url_for('message_edit_form', message_id=message.id) }}">
        <input type="submit" value="Edit"/>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<form method="POST" action="{{ url_for('message_create') }}">
<table>
  <tr>
      <td>{{ form.text.label }}</td>
      <td>{{ form.text }}</td>
      <td>
          <ul>
          {% for error in form.text.errors %}
          <li>{{ error }}</li>
          {% endfor %}
          </ul>
      </td>
  </tr>
  <tr>
      <td colspan="2">
          <input type="submit" value="Post message"/>
      </td>
  </tr>
</table>
</form>
{% endblock %}